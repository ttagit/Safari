(function(d){var h=function(a,b){this.init("tooltip",a,b)};h.prototype={constructor:h,init:function(a,b,c){this.type=a;this.$element=d(b);this.options=this.getOptions(c);this.enabled=true;if(this.options.trigger=="click")this.$element.on("click."+this.type,this.options.selector,d.proxy(this.toggle,this));else if(this.options.trigger!="manual"){a=this.options.trigger=="hover"?"mouseenter":"focus";b=this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(a+"."+this.type,this.options.selector,
d.proxy(this.enter,this));this.$element.on(b+"."+this.type,this.options.selector,d.proxy(this.leave,this))}this.options.selector?this._options=d.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(a){a=d.extend({},d.fn[this.type].defaults,a,this.$element.data());if(a.delay&&typeof a.delay=="number")a.delay={show:a.delay,hide:a.delay};return a},enter:function(a){var b=d(a.currentTarget)[this.type](this._options).data(this.type);if(!b.options.delay||!b.options.delay.show)return b.show();
clearTimeout(this.timeout);b.hoverState="in";this.timeout=setTimeout(function(){b.hoverState=="in"&&b.show()},b.options.delay.show)},leave:function(a){var b=d(a.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!b.options.delay||!b.options.delay.hide)return b.hide();b.hoverState="out";this.timeout=setTimeout(function(){b.hoverState=="out"&&b.hide()},b.options.delay.hide)},show:function(){var a,b,c,e,i,f,g;if(this.hasContent()&&this.enabled){a=this.tip();
this.setContent();this.options.animation&&a.addClass("fade");f=typeof this.options.placement=="function"?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement;b=/in/.test(f);a.detach().css({top:0,left:0,display:"block"}).insertAfter(this.$element);c=this.getPosition(b);e=a[0].offsetWidth;i=a[0].offsetHeight;switch(b?f.split(" ")[1]:f){case "bottom":g={top:c.top+c.height,left:c.left+c.width/2-e/2};break;case "top":g={top:c.top-i,left:c.left+c.width/2-e/2};break;case "left":g=
{top:c.top+c.height/2-i/2,left:c.left-e};break;case "right":g={top:c.top+c.height/2-i/2,left:c.left+c.width}}a.offset(g).addClass(f).addClass("in")}},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")},hide:function(){function a(){var c=setTimeout(function(){b.off(d.support.transition.end).detach()},500);b.one(d.support.transition.end,function(){clearTimeout(c);b.detach()})}var b=this.tip();
b.removeClass("in");d.support.transition&&this.$tip.hasClass("fade")?a():b.detach();return this},fixTitle:function(){var a=this.$element;if(a.attr("title")||typeof a.attr("data-original-title")!="string")a.attr("data-original-title",a.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(a){return d.extend({},a?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var a=
this.$element,b=this.options;return a.attr("data-original-title")||(typeof b.title=="function"?b.title.call(a[0]):b.title)},tip:function(){return this.$tip=this.$tip||d(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.options=this.$element=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(a){a=d(a.currentTarget)[this.type](this._options).data(this.type);
a[a.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var j=d.fn.tooltip;d.fn.tooltip=function(a){return this.each(function(){var b=d(this),c=b.data("tooltip"),e=typeof a=="object"&&a;c||b.data("tooltip",c=new h(this,e));typeof a=="string"&&c[a]()})};d.fn.tooltip.Constructor=h;d.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
trigger:"hover",title:"",delay:0,html:false};d.fn.tooltip.noConflict=function(){d.fn.tooltip=j;return this}})(window.jQuery);
